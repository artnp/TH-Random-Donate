<html>
	<head>
		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans+Thai+Looped:wght@100;200&family=Kanit:ital,wght@1,900&display=swap" rel="stylesheet">
		<title>Random ทำบุญ qr Code Scanner</title>
		<style>
			      .black-box {
    background-color: black;
    color: white;
    padding: 10px;
    width: 99%;
    overflow: hidden;
    position: relative;
  }
  .flashing-bar {
    width: 10px;
    height: 15px;
    background-color: white;
	position: absolute;
    animation: flashing 1.5s infinite;
  }

  @keyframes flashing {
    0%, 49% {
      opacity: 0;
    }
    50%, 100% {
      opacity: 1;
    }
  }
		</style>
		</head>
<body>
<center>
	<div class="black-box"><center>
<div class="flashing-bar"></div><i>สุ่มสถานที่สร้างบุญ > แสกนจ่ายระบบพร้อมเพย์</i>
</center></div>
	<hr>
		<center>☉<div id='DonationRandom'></div></center>

	<hr>
	<font size='3'>- - - ข้อมูล qr code นี้มาจาก<u>โปรเจค ปิ๊บทำบุญ (E-Donation) ของ KBank</u> - - -</font></center>
<script>

var DiviveNumber;

function generateRandomNumber() {
    return Math.floor(Math.random() * 391); // Generate a random number between 0 and 390
}

function updateDonationQR() {
    DiviveNumber = generateRandomNumber();

    var Donate = "<img src='https://www.kasikornbank.com/SiteCollectionDocuments/promotion/e-donation/img/qr/donation-list-" + DiviveNumber + ".png' width='400'/>";
    document.getElementById('DonationRandom').innerHTML = Donate;
}

function checkImageLoad() {
    var image = new Image();
    image.src = "https://www.kasikornbank.com/SiteCollectionDocuments/promotion/e-donation/img/qr/donation-list-" + DiviveNumber + ".png";
    
    image.onload = function() {
        // Image loaded successfully, do nothing
    }

    image.onerror = function() {
        // Image didn't load, generate a new random number and update QR
        updateDonationQR();
    }
}

updateDonationQR();
checkImageLoad();


</script>
</body>
</html>